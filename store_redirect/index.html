<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redirecting...</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        .store-links {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
    </style>
    <script>
        console.log("hello");
        window.onload = function() {
            var userAgent = navigator.userAgent || navigator.vendor || window.opera;
            var userLang = navigator.language || navigator.userLanguage;
            var url = window.location.href;
            var links = {"lsfandro":"https://play.google.com/store/apps/details?id=com.Mocaplab.lsdicos&utm_source=flyer&utm_campaign=launch&pcampaignid=pcampaignidMKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1",
                         "lsfios":"https://apps.apple.com/app/sign3d-lsf/id6443809599?mt=flyer&ct=launch&pt=flyer",
                         "aslandro":"https://play.google.com/store/apps/details?id=com.Mocaplab.sign3dasl&utm_source=flyer&utm_campaign=launch&pcampaignid=pcampaignidMKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1",
                         "aslios":"https://apps.apple.com/app/sign3d-asl/id6741157589?mt=flyer&ct=launch&pt=flyer"};
            console.log(url);
            function redirectAndClose(url) {
                window.location.href = url;
                console.log(window.location.href);
                setTimeout(function() {
                    window.close();
                }, 2000); // Give time for redirect before attempting to close
            }
            if (url.includes("/?lsf/")) {
                if (/android/i.test(userAgent)) {
                    // Redirect to Google Play Store
                    redirectAndClose(links["lsfandro"]);
                } else if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
                    // Redirect to Apple App Store
                    redirectAndClose(links["lsfios"]);
                    
                } else {
                    // Default fallback (optional)
                    document.title = "Sign3D LSF";
                    document.body.innerHTML = `<h2 style="color: #FFA967;">S'il vous plait, visitez ce lien avec votre mobile</h2>
                    <div class='store-links'>
                    <img alt="Sign3D LSF" src="final_Sign3D_LSF.png" width="100"/>
                    <a href=`+links["lsfandro"]+`><img alt='Disponible sur Google Play' width="100" src='https://play.google.com/intl/en_us/badges/static/images/badges/fr_badge_web_generic.png'/></a> 
                    <a href=`+links["lsfios"]+`><img alt="Disponible sur l'App Store" width="100" src='https://toolbox.marketingtools.apple.com/api/v2/badges/download-on-the-app-store/black/fr-fr'/></a>
                    </div>
                    <p></p>
                    <p></p>
                    <a href=https://mocaplab.github.io/lsdicos_web/store_redirect/>DÃ©couvrez nos autres applications!</a>
                    <p></p>
                    <p>by Mocaplab</p>
                    <img alt="Mocaplab" src='Logo2016_Noir_Mocaplab.png' width="200"/>
                    <p>Discover our website</p>
                    <a href="https://mocaplab.com">mocaplab.com</a>
                    <p>Follow us on social media</p>
                    <a href="https://www.facebook.com/mocaplab">Facebook</a>
                    <a href="https://www.linkedin.com/company/mocaplab">LinkedIn</a>`;
                    console.log("fallback lsf not on mobile");
                }
            } else if (url.includes("/?asl/")) {
                if (/android/i.test(userAgent)) {
                    // Redirect to Google Play Store
                    redirectAndClose(links["aslandro"]);
                } else if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
                    // Redirect to Apple App Store
                    redirectAndClose(links["aslios"]);
                } else {
                    // Default fallback (optional)
                    document.title = "Sign3D ASL";
                    document.body.innerHTML = `<h2 style="color: #FFA967;">Please visit this link on your device.</h2>
                    <div class='store-links'>
                    <img alt="Sign3D ASL" src='final_Sign3D_ASL.png' width="100"/>

                    <a href=`+links["aslandro"]+`><img alt='Get it on Google Play' width="100" src='https://play.google.com/intl/en_us/badges/static/images/badges/en_badge_web_generic.png'/></a> 
                    <a href=`+links["aslios"]+`><img alt="Download on App Store" width="100" src='https://toolbox.marketingtools.apple.com/api/v2/badges/download-on-the-app-store/black/en-us'/></a>
                    </div>
                    <p></p>
                    <p></p>
                    <a href=https://mocaplab.github.io/lsdicos_web/store_redirect/>Discover our other applications!</a>
                    <p></p>
                    <p>by Mocaplab</p>
                    <img alt="Mocaplab" src='Logo2016_Noir_Mocaplab.png' width="200"/>
                    <p>Discover our website</p>
                    <a href="https://mocaplab.com">mocaplab.com</a>
                    <p>Follow us on social media</p>
                    <a href="https://www.facebook.com/mocaplab">Facebook</a>
                    <a href="https://www.linkedin.com/company/mocaplab">LinkedIn</a>`;
                    console.log("fallback asl not on mobile");
                }
            } else {
                document.title = "Sign3D Family";
                document.body.innerHTML = `<div class='store-links'>
                <h2>Our Sign Language applications</h2>
                <h3 style="color: #FFA967;">Sign3D LSF</h3>
                <img alt="Sign3D LSF" src='final_Sign3D_LSF.png' width="100"/>
                <p>Discover French Sign Language with Sign3D LSF</p>
                
                <a href=`+links["lsfandro"]+`><img alt='Disponible sur Google Play' width="100" src='https://play.google.com/intl/en_us/badges/static/images/badges/fr_badge_web_generic.png'/></a>
                <a href=`+links["lsfios"]+`><img alt="Disponible sur l'App Store" width="100" src='https://toolbox.marketingtools.apple.com/api/v2/badges/download-on-the-app-store/black/fr-fr'/></a>
                
                <h3 style="color: #FFA967;">Sign3D ASL</h3>
                <img alt="Sign3D ASL" src='final_Sign3D_ASL.png' width="100"/>
                <p>Discover American Sign Language with Sign3D ASL</p>

                <a href=`+links["aslandro"]+`><img alt='Get it on Google Play' width="100" src='https://play.google.com/intl/en_us/badges/static/images/badges/en_badge_web_generic.png'/></a> 
                <a href=`+links["aslios"]+`><img alt="Download on App Store" width="100" src='https://toolbox.marketingtools.apple.com/api/v2/badges/download-on-the-app-store/black/en-us'/></a>
                
                <h3>SignEveil2</h3>
                <a href="https://play.google.com/store/apps/details?id=com.Mocaplab.SignEveil2&utm_source=flyer&utm_campaign=launch&pcampaignid=pcampaignidMKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1"><img alt='Disponible sur Google Play' width="100" src='https://play.google.com/intl/en_us/badges/static/images/badges/fr_badge_web_generic.png'/></a>
                <a href="https://apps.apple.com/app/signeveil-2/id1504933087?mt=flyer&ct=launch&pt=flyer"><img alt="Disponible sur l'App Store" width="100" src='https://toolbox.marketingtools.apple.com/api/v2/badges/download-on-the-app-store/black/fr-fr'/></a>
                <h3>SignBabble</h3>
                <a href="https://play.google.com/store/apps/details?id=com.Mocaplab.SignBables&utm_source=flyer&utm_campaign=launch&pcampaignid=pcampaignidMKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1"><img alt='Disponible sur Google Play' width="100" src='https://play.google.com/intl/en_us/badges/static/images/badges/fr_badge_web_generic.png'/></a>
                <a href="https://apps.apple.com/app/sign-babble/id1462266052?mt=flyer&ct=launch&pt=flyer"><img alt="Disponible sur l'App Store" width="100" src='https://toolbox.marketingtools.apple.com/api/v2/badges/download-on-the-app-store/black/fr-fr'/></a>
                <h2>Our other applications</h2>
                <h3>Krav Maga Secrets</h3>
                <a href="https://play.google.com/store/apps/details?id=com.DefaultCompany.Kravmaga&utm_source=flyer&utm_campaign=launch&pcampaignid=pcampaignidMKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1"><img alt='Disponible sur Google Play' width="100" src='https://play.google.com/intl/en_us/badges/static/images/badges/fr_badge_web_generic.png'/></a>
                <a href="https://apps.apple.com/fr/app/krav-maga-secrets/id1496334954?mt=flyer&ct=launch&pt=flyer"><img alt="Disponible sur l'App Store" width="100" src='https://toolbox.marketingtools.apple.com/api/v2/badges/download-on-the-app-store/black/fr-fr'/></a>
                </div>
                <p></p>
                <p></p>
                <p></p>
                <p>by Mocaplab</p>
                <img alt="Mocaplab" src='Logo2016_Noir_Mocaplab.png' width="200"/>
                <p>Discover our website</p>
                <a href="https://mocaplab.com">mocaplab.com</a>
                <p>Follow us on social media</p>
                <a href="https://www.facebook.com/mocaplab">Facebook</a>
                <a href="https://www.linkedin.com/company/mocaplab">LinkedIn</a>`;
            }
        };
    </script>
</head>
</html>